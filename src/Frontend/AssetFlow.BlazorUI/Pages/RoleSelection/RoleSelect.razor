@* ============================================================
   RoleSelect.razor — Design cohérent, SVG icons, logo grand
   ============================================================ *@

@page "/"
@namespace AssetFlow.BlazorUI.Pages.Auth
@using AssetFlow.BlazorUI.Components

<div class="role-select-page">

    <div class="role-select-header">
        <img src="images/logo.png" alt="AssetFlow" class="role-select-logo" />
        <p class="role-select-subtitle">Sélectionnez votre rôle pour continuer</p>
    </div>

    <div class="roles-container">

        @* Carte IT *@
        <div class="role-card" @onclick='() => SelectRole("IT")'>
            <div class="role-icon-container" style="background:rgba(124,58,237,0.1);">
                <svg viewBox="0 0 24 24" style="stroke:#7C3AED;fill:none;stroke-width:1.75;stroke-linecap:round;stroke-linejoin:round;">
                    <rect x="2" y="3" width="20" height="14" rx="2"/>
                    <path d="M8 21h8M12 17v4"/>
                </svg>
            </div>
            <div class="role-title">IT</div>
            <p class="role-description-text">Gestion du matériel, affectations, demandes d'achat, prédictions IA</p>
            <button class="btn-role" style="background:#7C3AED;">Continuer →</button>
        </div>

        @* Carte Équipe Achat *@
        <div class="role-card" @onclick='() => SelectRole("EquipeAchat")'>
            <div class="role-icon-container" style="background:rgba(16,185,129,0.1);">
                <svg viewBox="0 0 24 24" style="stroke:#10B981;fill:none;stroke-width:1.75;stroke-linecap:round;stroke-linejoin:round;">
                    <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/>
                    <path d="M3 6h18"/>
                    <path d="M16 10a4 4 0 0 1-8 0"/>
                </svg>
            </div>
            <div class="role-title">Équipe Achat</div>
            <p class="role-description-text">Réception demandes, gestion offres, OCR automatique, scoring IA</p>
            <button class="btn-role" style="background:#10B981;">Continuer →</button>
        </div>

        @* Carte Employé *@
        <div class="role-card" @onclick='() => SelectRole("Employe")'>
            <div class="role-icon-container" style="background:rgba(245,158,11,0.1);">
                <svg viewBox="0 0 24 24" style="stroke:#F59E0B;fill:none;stroke-width:1.75;stroke-linecap:round;stroke-linejoin:round;">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                    <circle cx="12" cy="7" r="4"/>
                </svg>
            </div>
            <div class="role-title">Employé</div>
            <p class="role-description-text">Consultation équipements affectés, signalement incidents, QR codes</p>
            <button class="btn-role" style="background:#F59E0B;">Continuer →</button>
        </div>

    </div>

    <div class="admin-hint">
        <p>Mode avancé : tapez 'admin' pour accéder</p>
        <input type="text"
               @bind="AdminInput"
               @oninput="CheckAdminMode"
               style="opacity:0;position:absolute;pointer-events:none;" />
    </div>

</div>
